<!-- Place immediately inside of parent div with correct grid sizing -->
<% if @school && !request.fullpath.start_with?(become_a_tutor_path) %>

  <!-- Sets the school for the course_selector with a hidden field so that the school dropdown can be ommited in some views (i.e. when @school is already set) -->
  <div style="display: none;">
    <select name="course[school_id]" id="school" required="true">
      <option selected="true" value="<%= @school.id %>"><%= @school %></option>
    </select>
  </div>

  <% if @subject %>

  <!-- When subject select is shown without school select (b/c @school is set) && when search selections need to be carried over from Home page or back button from tutor show page reached from search results -->
    <select name="course[subject_id]" id="subject" required="true" value=<%= @subject.id %> >
      <option value="<%= @subject.id %>"><%= @subject.name %></option>
      <% @school.subjects.each do |subject| %>
        <% if subject[:id].to_i != @subject.id %>
          <option value="<%= subject[:id] %>"><%= subject[:name] %></option>
        <% end %>
      <% end %>
    </select>

  <% else %>

  <!-- When subject select is shown without school select (b/c @school is set) and no previous search has been made from another page -->
    <select name="course[subject_id]" id="subject" required="true">
      <option disabled="true" selected="true" value="">Select Subject</option>
      <% @school.subjects.each do |subject| %>
        <option value="<%= subject[:id] %>"><%= subject[:name] %></option>
      <% end %>
    </select>

  <% end %>

<% else %>

  <!-- Displays subjects dynamically generated by jQuery for school selected in school dropdown -->
  <select name="course[subject_id]" id="subject" required="true">
    <option disabled="true" selected="true" value="">Select Subject</option>
  </select>

<% end %>